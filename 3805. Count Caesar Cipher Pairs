using ll   =  long long;
using vll  =  vector<ll>;
#define foo(i, a, b) for (int i = (a); i < (b); ++i)

class Solution {
public:
    long long countPairs(vector<string>& w) {
        ll n = w.size() ;
        ll re = 0 ;
        unordered_map<string, ll> f ;

        for(auto wo : w){
            char a = wo[0] ;
            for(auto &c :wo){
                ll d = c-a;
                if(d <0) d = d +26;
                c = 'a'-d ;
                
            }
            re = re +f[wo]++ ;
        }

        return re ;
    }
};
