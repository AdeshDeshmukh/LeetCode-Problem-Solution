// Contest LC
using ll   =  long long;
using vll  =  vector<ll>;
#define pb push_back
#define sorta(v) sort((v).begin(), (v).end())
#define foo(i, a, b) for (int i = (a); i < (b); ++i)

class Solution {
public:
    int diameterOfBinaryTree(TreeNode* root) {
        int md = 0;
        h(root, md);
        return md;
    }

private:
    int h(TreeNode* n, int& md) {
        if (n == NULL) return 0;

        int lh = h(n->left, md);
        int rh = h(n->right, md);
        md = max(md, lh + rh);

        return 1 + max(lh, rh);
    }
};
